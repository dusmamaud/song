<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Xo Music</title>

<meta name="title" content="Xo Music - Music Streaming Platform" />

<meta
  name="description"
  content="Xo Music is a modern music streaming platform offering millions of songs, personalized playlists, high-quality audio, and seamless music discovery. Listen to your favorite artists anytime, anywhere."
/>

<meta
  name="keywords"
  content="music streaming, Xo Music, music player, online music, playlists, artists, albums, songs, audio streaming"
/>

<meta name="author" content="Xo Music" />
<meta name="robots" content="index, follow" />
<meta name="language" content="English" />
<meta name="revisit-after" content="7 days" />
<meta name="generator" content="Visual Studio Code" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://xomusic.com/" />
<meta property="og:site_name" content="Xo Music" />
<meta property="og:title" content="Xo Music - Music Streaming Platform" />
<meta
  property="og:description"
  content="Xo Music is a modern music streaming platform offering millions of songs, personalized playlists, high-quality audio, and seamless music discovery. Listen to your favorite artists anytime, anywhere."
/>
<meta
  property="og:image"
  content="https://dusmamaud.github.io/song/xopreview.png"
/>
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content="https://xomusic.com/" />
<meta name="twitter:title" content="Xo Music - Music Streaming Platform" />
<meta
  name="twitter:description"
  content="Xo Music is a modern music streaming platform offering millions of songs, personalized playlists, high-quality audio, and seamless music discovery. Listen to your favorite artists anytime, anywhere."
/>
<meta
  name="twitter:image"
  content="https://dusmamaud.github.io/song/xopreview.png"
/>
<meta name="twitter:creator" content="@xomusic" />

<!-- Favicon -->
<link rel="shortcut icon" href="xologo.png" type="image/x-icon" />

<meta name="theme-color" content="#ffffff" />

    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&display=swap");

      :root {
        --primary-color: #1db954;
        --text-primary: #ffffff;
        --text-secondary: rgba(255, 255, 255, 0.7);
        --background: #000000;
        --overlay: rgba(0, 0, 0, 0.7);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Cabin", sans-serif;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        font-family: "Arial", sans-serif;
        background: var(--background);
        color: var(--text-primary);
        overflow: hidden;
      }

      .loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--background);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .loader-content {
        text-align: center;
      }

      .loader-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid var(--text-secondary);
        border-top-color: var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      .loader-text {
        margin-top: 20px;
        font-size: 18px;
        color: var(--primary-color);
      }

      .header {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;
        background: linear-gradient(to bottom, var(--overlay), transparent);
      }

      .header-btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .header-btn:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .header-btn i {
        font-size: 20px;
      }

      .logo {
        font-size: 24px;
        font-weight: bold;
      }

      .container {
        height: 100vh;
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        scrollbar-width: none;
      }

      .container::-webkit-scrollbar {
        display: none;
      }

      .music-slide {
        height: 100vh;
        scroll-snap-align: start;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow-x: hidden;
        overflow-y: hidden;
      }

      .background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        filter: blur(5px);
        transform: scale(1.1);
      }

      .gradient-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          0deg,
          var(--overlay) 0%,
          rgba(0, 0, 0, 0.4) 50%,
          var(--overlay) 100%
        );
      }

      .cover-wrapper {
        position: relative;
        z-index: 2;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }

      .cover-container {
        position: relative;
        width: 250px;
        height: 250px;
        cursor: pointer;
        z-index: 2; /* Ensure it is above the visualizer */
      }

      @media (max-width: 768px) {
        .cover-container {
          width: 200px;
          height: 200px;
        }
      }

      .cover-photo {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
        z-index: 3; /* Ensure cover photo is above everything else */
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);
      }

      .play-pause-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: #1db9542f;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 1; /* Ensure it is visible */
        transition: opacity 0.3s ease;
        z-index: 4; /* Ensure icon is above cover photo */
      }

      .play-pause-overlay i {
        font-size: 88px;
        color: var(--text-primary);
      }

      .cover-container:hover .play-pause-overlay {
        opacity: 1;
      }

      .visualizer {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 0; /* Place behind the cover photo */
      }

      .visualizer-circle {
        position: absolute;
        width: 100%;
        height: 100%;
        border: 2px solid var(--primary-color);
        border-radius: 50%;
        animation: pulse 1.5s ease-out infinite;
      }

      .visualizer-bar {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 4px;
        height: 20px;
        background: var(--primary-color);
        transform-origin: 50% 0;
      }

      .music-controls {
        display: flex;
        gap: 20px;
        margin-top: 20px;
      }

      .control-btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .control-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.1);
      }

      .control-btn i {
        font-size: 20px;
        color: var(--text-primary);
      }

      .music-info {
        position: fixed;
        bottom: 0;
        width: 100%;
        padding: 20px;
        background: linear-gradient(to top, var(--background) 80%, transparent);
        z-index: 10;
      }

      .progress-container {
        width: 100%;
        height: 30px;
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      .progress-bar {
        width: 100%;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        overflow: hidden;
        position: relative;
      }

      .progress {
        width: 0%;
        height: 100%;
        background: var(--primary-color);
        border-radius: 2px;
        transition: width 0.1s linear;
      }

      .progress-handle {
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 12px;
        height: 12px;
        background: var(--primary-color);
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .progress-container:hover .progress-handle {
        opacity: 1;
      }

      .song-details {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-top: 15px;
      }

      .song-cover {
        width: 60px;
        height: 60px;
        border-radius: 10px;
        object-fit: cover;
      }

      .song-text {
        flex: 1;
      }

      .song-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .song-artist {
        font-size: 14px;
        color: var(--text-secondary);
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        100% {
          transform: scale(1.2);
          opacity: 0;
        }
      }

      @media (max-width: 768px) {
        .header {
          padding: 15px;
        }

        .logo {
          font-size: 20px;
        }

        .music-controls {
          gap: 15px;
        }

        .control-btn {
          width: 35px;
          height: 35px;
        }

        .song-details {
          margin-top: 10px;
        }

        .song-cover {
          width: 50px;
          height: 50px;
        }

        .song-title {
          font-size: 14px;
        }

        .song-artist {
          font-size: 12px;
        }
      }
    </style>
  </head>
  <body>
    <div class="loader">
      <div class="loader-content">
        <div class="loader-spinner"></div>
        <div class="loader-text">Loading XO Music...</div>
      </div>
    </div>

    <div class="header">
      <div class="header-btn back-btn">
        <i class="bx bx-arrow-back"></i>
      </div>
      <div class="logo">XO Music</div>
      <div class="header-btn info-btn">
        <i class="bx bx-info-circle"></i>
      </div>
    </div>

    <div class="container" id="container"></div>

    <div class="music-info">
      <div class="progress-container" id="progressContainer">
        <div class="progress-bar">
          <div class="progress" id="progress"></div>
          <div class="progress-handle" id="progressHandle"></div>
        </div>
      </div>
      <div class="song-details">
        <img src="" alt="" class="song-cover" id="currentCover" />
        <div class="song-text">
          <div class="song-title" id="currentTitle"></div>
          <div class="song-artist" id="currentArtist"></div>
        </div>
        <div class="music-controls">
          <div class="control-btn mute-btn" id="muteBtn">
            <i class="bx bx-volume-full"></i>
          </div>
          <div class="control-btn download-btn" id="downloadBtn">
            <i class="bx bx-download"></i>
          </div>
        </div>
      </div>
    </div>
<script src="script.js"></script>
    <script>
      class MusicPlayer {
        constructor() {
          this.songs = [];
          this.currentIndex = 0;
          this.audio = new Audio();
          this.playedSongs = new Set();
          this.isPlaying = false;
          this.isMuted = false;
          this.isDragging = false;
          this.loadPlayedSongs();
          this.init();
        }

        async init() {
          try {
            const response = await fetch("songs.json");
            const data = await response.json();
            this.songs = this.shuffleArray(data.songs);

            // Simulate loading time
            setTimeout(() => {
              document.querySelector(".loader").style.display = "none";
              this.setupPlayer();
              this.createSlides();
              this.setupEventListeners();
              this.playSong(0);
            }, 1000);
          } catch (error) {
            console.error("Error loading songs:", error);
          }
        }

        loadPlayedSongs() {
          const played = localStorage.getItem("playedSongs");
          if (played) {
            this.playedSongs = new Set(JSON.parse(played));
          }
        }

        savePlayedSongs() {
          localStorage.setItem(
            "playedSongs",
            JSON.stringify([...this.playedSongs])
          );
        }

        shuffleArray(array) {
          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
          return array;
        }

        setupPlayer() {
          this.container = document.getElementById("container");
          this.progress = document.getElementById("progress");
          this.progressHandle = document.getElementById("progressHandle");
          this.progressContainer = document.getElementById("progressContainer");
          this.currentTitle = document.getElementById("currentTitle");
          this.currentArtist = document.getElementById("currentArtist");
          this.currentCover = document.getElementById("currentCover");
          this.muteBtn = document.getElementById("muteBtn");
          this.downloadBtn = document.getElementById("downloadBtn");
        }

        createVisualizer() {
          const visualizer = document.createElement("div");
          visualizer.className = "visualizer";

          // Create pulse circles
          for (let i = 0; i < 3; i++) {
            const circle = document.createElement("div");
            circle.className = "visualizer-circle";
            circle.style.animationDelay = `${i * 0.5}s`;
            visualizer.appendChild(circle);
          }

          // Create bars
          for (let i = 0; i < 36; i++) {
            const bar = document.createElement("div");
            bar.className = "visualizer-bar";
            bar.style.transform = `rotate(${i * 10}deg)`;
            bar.style.animationDelay = `${i * 0.1}s`;
            visualizer.appendChild(bar);
          }

          return visualizer;
        }

        createSlides() {
          this.songs.forEach((song, index) => {
            const slide = document.createElement("div");
            slide.className = "music-slide";
            slide.innerHTML = `
                        <div class="background" style="background-image: url('${
                          song.cover
                        }')"></div>
                        <div class="gradient-overlay"></div>
                        <div class="cover-wrapper">
                            <div class="cover-container" data-index="${index}">
                                <img src="${
                                  song.cover
                                }" alt="" class="cover-photo">
                                <div class="play-pause-overlay">
                                    <i class='bx bx-play'></i>
                                </div>
                                ${this.createVisualizer().outerHTML}
                            </div>
                        </div>
                    `;
            this.container.appendChild(slide);
          });
        }

        setupEventListeners() {
          this.container.addEventListener(
            "scroll",
            this.handleScroll.bind(this)
          );

          document.querySelectorAll(".cover-container").forEach((cover) => {
            cover.addEventListener("click", () => {
              const index = parseInt(cover.dataset.index);
              if (this.currentIndex === index) {
                this.togglePlay();
              } else {
                this.playSong(index);
              }
            });
          });

          this.progressContainer.addEventListener(
            "mousedown",
            this.startDragging.bind(this)
          );
          document.addEventListener("mousemove", this.handleDrag.bind(this));
          document.addEventListener("mouseup", this.stopDragging.bind(this));

          this.progressContainer.addEventListener(
            "touchstart",
            this.startDragging.bind(this)
          );
          document.addEventListener("touchmove", this.handleDrag.bind(this));
          document.addEventListener("touchend", this.stopDragging.bind(this));

          this.muteBtn.addEventListener("click", this.toggleMute.bind(this));
          this.downloadBtn.addEventListener("click", () => this.downloadSong());

          document.querySelector(".info-btn").addEventListener("click", () => {
            window.location.href = "artist.html";
          });

          document.querySelector(".back-btn").addEventListener("click", () => {
            window.history.back();
          });

          this.audio.addEventListener("timeupdate", () => {
            if (!this.isDragging) {
              const progress =
                (this.audio.currentTime / this.audio.duration) * 100;
              this.updateProgress(progress);
            }
          });

          this.audio.addEventListener("ended", () => {
            this.playNext();
          });
        }

        startDragging(e) {
          this.isDragging = true;
          this.handleDrag(e);
        }

        handleDrag(e) {
          if (!this.isDragging) return;

          e.preventDefault();
          const rect = this.progressContainer.getBoundingClientRect();
          const x = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
          let progress = ((x - rect.left) / rect.width) * 100;
          progress = Math.max(0, Math.min(progress, 100));

          this.updateProgress(progress);
          const time = (progress / 100) * this.audio.duration;
          this.audio.currentTime = time;
        }

        stopDragging() {
          this.isDragging = false;
        }

        updateProgress(progress) {
          this.progress.style.width = `${progress}%`;
          this.progressHandle.style.left = `${progress}%`;
        }

        toggleMute() {
          this.isMuted = !this.isMuted;
          this.audio.muted = this.isMuted;
          this.muteBtn.innerHTML = this.isMuted
            ? '<i class="bx bx-volume-mute"></i>'
            : '<i class="bx bx-volume-full"></i>';
        }

        async downloadSong() {
          const song = this.songs[this.currentIndex];
          try {
            const response = await fetch(song.url);
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = `xo music (${song.title}).mp3`;
            document.body.appendChild(a);
            a.click();
            a.remove();
          } catch (error) {
            console.error("Error downloading song:", error);
          }
        }

        handleScroll() {
          const slides = document.querySelectorAll(".music-slide");
          const containerHeight = window.innerHeight;

          slides.forEach((slide, index) => {
            const rect = slide.getBoundingClientRect();
            if (rect.top >= 0 && rect.top <= containerHeight / 2) {
              if (this.currentIndex !== index) {
                this.playSong(index);
              }
            }
          });
        }

        playSong(index) {
          this.currentIndex = index;
          const song = this.songs[index];

          this.audio.src = song.url;
          this.audio.play();
          this.isPlaying = true;

          this.playedSongs.add(index);
          this.savePlayedSongs();
          this.updateUI(song);

          if (this.playedSongs.size === this.songs.length) {
            this.playedSongs.clear();
            this.savePlayedSongs();
          }
        }

        togglePlay() {
          if (this.isPlaying) {
            this.audio.pause();
            this.isPlaying = false;
          } else {
            this.audio.play();
            this.isPlaying = true;
          }
          this.updatePlayPauseUI();
        }

        updatePlayPauseUI() {
          const overlay = document.querySelectorAll(".play-pause-overlay")[
            this.currentIndex
          ];
          const icon = overlay.querySelector("i");
          icon.className = this.isPlaying ? "bx bx-pause" : "bx bx-play";

          overlay.style.opacity = "1";

          setTimeout(() => {
            overlay.style.opacity = "0";
          }, 1000);
        }

        playNext() {
          const unplayedSongs = this.songs.filter(
            (_, index) => !this.playedSongs.has(index)
          );
          if (unplayedSongs.length > 0) {
            const nextIndex = this.songs.indexOf(unplayedSongs[0]);
            this.playSong(nextIndex);
          } else {
            this.playedSongs.clear();
            this.savePlayedSongs();
            this.playSong(0);
          }
        }

        updateUI(song) {
          this.currentTitle.textContent = song.title;
          this.currentArtist.textContent = song.artist;
          this.currentCover.src = song.cover;

          document.querySelectorAll(".music-slide").forEach((slide, index) => {
            const visualizer = slide.querySelector(".visualizer");
            if (index === this.currentIndex) {
              visualizer.style.display = "block";
            } else {
              visualizer.style.display = "none";
            }
          });

          this.updatePlayPauseUI();
        }
      }

      // Initialize the player when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        new MusicPlayer();
      });
    </script>
  </body>
</html>
